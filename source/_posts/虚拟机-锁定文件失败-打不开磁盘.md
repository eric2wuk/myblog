---
title: 虚拟机 锁定文件失败 打不开磁盘
date: 2018-03-05 14:36:05
categories: [bugFix]
tags: [bugFix,虚拟机]
---
#### 前言
* 放假回来发现, 虚拟启动失败,锁定文件失败 打不开磁盘blabla
* 小问题, 参考http://blog.csdn.net/summyjian/article/details/79213541
#### 解决
* 一次在使用虚拟机的过程中，电脑出问题强制关机后，重新打开虚拟机，出现了“文件锁定失败”，打不开虚拟机的情况。 上网百度查相关的解决方案，终于解决了问题。因为虚拟机运行的时候会创建相应的文件，即在虚拟机安装目录下会自动生成.lck文件，用以锁定文件，这是虚拟机里的虚拟磁盘(.vmdk)本身自带的一种磁盘保护机制，防止多台虚拟机同时访问同一个虚拟词磁盘造成对磁盘的修改、数据丢失以及性能的削减。虚拟机若是正常退出，关机时会自动地删除，可是因为强制关机，虚拟机属于异常退出，虚拟机尚未来地及删掉，这就影响了下一次的正常启动。我的解决方案是：将虚拟机安装目录下的所有.lck文件（文件夹）直接删除，再次就能正常运行了。
#### 注意事项
* 虚拟机在 主机关机前需要, 先正常关闭linux, 否则相当于直接拔电源 , 关机前 需关闭虚拟机软件
* 没事不要乱关机, 关机是陋习 

